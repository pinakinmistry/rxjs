<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>f(r(JS));</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">
		<link rel="stylesheet" href="css/override.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h2>Functional Reactive JavaScript</h2>
					<h2 class="blue">- Workshop @JSChannel</h2>
					<br>
					<h3>Prerequisites:</h3>
					<ul class="blue">
						<li>Firefox v22+</li>
						<li>Firebug</li>
						<li>Any text editor</li>
					</ul>

				</section>

				<section>
					<h1><a href="http://jschannel.com" target="_blank">Welcome to JSChannel</a></h1>
					<ul>
						<li>Since 2013</li>
						<li>25+ Meetups</li>
						<li>3 Conferences</li>
						<li>Next conference on 17 - 18 July, 2015</li>
						<li>Sole member of JSConf family in India</li>
					</ul>
				</section>

				<section> 
					<h2>Discount code just for you all:</h2>
					<h3 class="blue">JSC-MUM</h3>
				</section>

				<section>
					<h2>@JSChannel Conference 2014</h2>
					<img src="images/jschannel.jpg" width="900" height="560" />
				</section>

				<section>
					<h2>Functional Reactive JavaScript</h2>
					<h1 class="blue">f(r(JS));</h1>
				</section>

				<section>
					<h2>Notation Used in these slides:</h2>
					<h1><i><b class="blue">$P</b></i></h2>
						<span class="fragment">
							<img width="600" height="200" src="images/perk.jpeg" />
							<h2>Get Perks for right answers.</h2>
						</span>

					</h1>
				</section>

				<section>
					<h2>Signs to be used by you:</h2>
					<h2 class="blue">understood ? up() : down();</h2>
					<span class="fragment">
						<img width="652" height="330" src="images/like.png" />
					</span>
				</section>

				<section>
					<h2>!(in RTO || aTrafficPolice);</h2>
				</section>

				<section>
					<h2><a href="http://pinakinmistry.github.io/" target="_blank">@pinakinmistry</a></h2>
					<h2><i><b>$P</b></i></h2>
				</section>

				<section>
					<h2 class="blue">@Pykih</h2>
				</section>

				<section>
					<h2>Agenda:</h2>
					<ul>
						<li class="fragment">Rise of JavaScript (20m)</li>
						<li class="fragment">Hands on Functional JavaScript (1hr10m)</li>
						<li class="fragment">Hands on Functional Reactive JavaScript (1hr)</li>
						<li class="fragment">Coding an Observable from scratch (30m)</li>
					</ul>
				</section>

				<section>
					<h2>Show of Hands <u>lllli</u></h2>
				</section>

				<section>
					<h3>
						likeJS
						<span class="fragment"> || loveJS ?</span>
						<span class="fragment">learnJS() : learnJS();</span>
						<h4 class="fragment">//Short answer: JavaScript is Awesome!</h4>
						<h4 class="fragment">//Long answer: Proving the short answer in this workshop.</h4>
					</h3>
				</section>

				<section>
					<h2>!loveAtFirstSight;</h2>
					<h4>//Even I hated it initially!</h4>
				</section>

				<section>
					<h2>myFirstEncounter();</h2>
				</section>

				<section>
					<h2>Common (mis)Understanding:</h2>
					<ul>
						<li>JavaScript is not a language.</li>
						<li>Doesn't even compile.</li>
						<li>Written in HTML file.</li>
						<li>Runs only in browser.</li>
						<li>Is it Still in Use?</li>
						<li>Worst case, how it's #trending?</li>
					</ul> 
				</section>

				<section>
					<h2>What can we do with JavaScript?</h2>
					<ul>
						<li>May don't wanna learn it!</li>
						<li>May avoid learning it even if forced to!</li>
						<li>May Ignore it!</li>
					</ul> 
				</section>

				<section>
					<h2>Wait! Before You IGNORE it:</h2>
					<ul>
						<li class="fragment">
							It's #1 Language:
							<a href="http://redmonk.com/sogrady/2015/01/14/language-rankings-1-15/" target="_blank">
                http://redmonk.com
            	</a>
      			</li>
      			<li class="fragment">
      				Most hated to most loved language.
      			</li>
      			<li class="fragment">
							Most trending language on <a href="http://githut.info/" target="_blank">Github.</a>
						</li>
						<li class="fragment">
							<a href="http://alexandros.resin.io/npm-now-the-largest-module-repository/" target="_blank">
        				NPM
        			</a>is largest module repository.
						</li>
						<li class="fragment">
							Compensating for all the hatred all these years.
						</li>
						<li class="fragment">
							<a href="https://www.youtube.com/watch?v=yI8rYQtkwC4" target="_blank">
        				JavaScript is everywhere.
        			</a>Can't hide it.
						</li>
						<li class="fragment">
							<a href="https://leanpub.com/understandinges6/read/" target="_blank">ES6 is coming!</a>
							It'll find you.
						</li>
						<li class="fragment">
							Catch it before it catches you!
						</li>
					</ul> 
				</section>

				<!-- 
				<section>
					<h2>Sayin ain't enough!</h2>
				</section>

				<section>
					<h2 class="blue">Show Time</h2>
					- Powered by JavaScript.
				</section>

				<section>
					<h2><a href="http://pinakinmistry.github.io/Viz/MeteorShower/" target="_blank">
						Meet the Meteorites</a>
					</h2>
				</section>

				<section>
					<h2><a href="http://lightning.fm/massofplanets/#/" target="_blank">
						Mass of Planets</a>
					</h2>
				</section> -->
				

				<section>
					<h2>Why JavaScript's #1?</h2>
					<h1 class="fragment">How come JavaScript?</h1>
					<h4 class="fragment">Come on, I thought it's Java/C#/Ruby/...</h4>
				</section>

				<section>
					<h2>Questions: <i class="blue">$P</i></h2>
					<ul>
						<li>Birth Year?</li>
						<li>Birth Place?</li>
						<li>Birth Name? (Add Java cos it is popular)</li>
						<li>Father?</li>
					</ul> 
				</section>

				<section>
					<h2>Slow Rise To The Top:</h2>
					<ul>
						<li class="fragment">1995: Most Despised language due to B#@!# War! <i class="blue">$P</i></li>
						<li class="fragment">2004: Gmail AJAXed us! <i class="blue">$P</i></li>
						<li class="fragment">2006: jQuery's here for rescue! <i class="blue">$P</i></li>
						<li class="fragment">2008: JavaScript Good Parts Book. Discovery of Decade!</li>
						<li class="fragment">2009: JavaScript Jumped off Browser! <i class="blue">$P</i></li>
						<li class="fragment">2010: No Flash on iPhone/iPad; Go HTML5 Way!</li>
						<li class="fragment">2010: Beginnings of Modern JavaScript library Ecosystem!</li>
						<li class="fragment">2011: Javascript a first-class citizen in Windows 8!</li>
						<li class="fragment">2012: Rise of the single-page app frameworks!</li>
						<li class="fragment">2013: Firefox OS UI layer using JavaScript!</li>
						<li class="fragment">2014-15: JavaScript is Everywhere!</li>
					</ul> 
				</section>

				<section>
					<h2>Present: Shower of JavaScript!</h2>
					<ul>
						<li>BackboneJS</li>
						<li>EmberJS</li>
						<li>AngularJS</li>
						<li>ReactJS</li>
						<li>Aurelia</li>
						<li>BatmanJS</li>
						<li>PhantomJS</li>
						<li>NodeJS / ioJS</li>
						<li>Yeoman, Bower, Gulp, Karma, Jasmine, Protractor, ...<li>
						<a target="_blank" href="http://microjs.com">microjs.com</a></li>
					</ul> 
				</section>

				<section>
					<img width="900" height="650" src="images/shower.gif" />
				</section>

				<section>
					<h2>Please ask me ... <span class="fragment">isn't this bad?</span></h2>
				</section>

				<section>
					<h2>Let's get our hands <u>lllli</u> on function</h2>
				</section>

				<section>
					<h2>JS functions are first class citizens. <i class="blue">$P</i></h2>
				</section>

				<section>
					<h2>Functions are callable objects:</h2>
					<pre><code data-trim>
function f() {
  return 'Hello World';
}
//or
var f = function () {
  return 'Hello World';	
};

//Function being an object has properties and methods in it:
f.name 		//f
f.call() 	//'Hello World'
f.apply() 	//'Hello World'
//$P
f.prototype	//?
f.arguments	//?
//What's the other implicit argument to a function?
					</code></pre>
				</section>

				<section>
					<video width="900" height="600" controls>
				    	<source data-src="images/whatisthis-bigger.mkv" type="video/mp4" />
				  	</video>
				  	<h2 class="fragment">What is this? <i class="blue">$P</i></h2>
				</section>


				<section>
					<h2>Array object methods:</h2>
					<pre><code data-trim>
var a = [1, 2, 3];

a.forEach()
a.map()
a.filter()
a.reduce() //$P
a.some()
a.every()
a.indexOf()
					</code></pre>
				</section>

				<section>
					<h2>Find common between 2 arrays:</h2>
					<pre><code data-trim>
var a = [1, 2, 5, 4, 3];
var b = [5, 6, 3, 2];

function findCommon(a, b) {
  var common = [];
  
  a.forEach(//Write the logic here
  //...
  );
  
  return common;
}
					</code></pre>
				</section>

				<section>
					<h2>Common between 2 or more arrays?</h2>
					<pre><code data-trim>
var a = [1, 2, 5, 4, 3];
var b = [5, 6, 3, 1, 2, 7];
var c = [6, 1, 3, 2];
var d = [6, 8, 2, 1, 3];

function findCommon() {
  var common = [];
  
  a.forEach(//Write the logic here
  //...
  );
  
  return common;
}
					</code></pre>
				</section>

				<section>
					<h2>Functional Programming:</h2>
					<ul>
						<li>Functions are "first-class" objects</li>
						<li>High-Order Functions</li>
						<li>Functions can return functions</li>
						<li>Lexical closures</li>
						<li>Functions are "pure"</li>
						<li>Safe Recursion</li>
						<li>Immutable state</li>
					</ul> 
				</section>

				<section>
					<h2>Higher Order Functions?</h2>
					<h2 class="fragment">y = f(x)</h2>
					<h4 class="fragment">//when did we learn functions in school?</h4>
					<h1 class="fragment">y = f(f(x))</h1>
					<h4 class="fragment">//I used to hide under the bench on this topic. <span class="fragment">Seriously.</span></h4>
					<h4 class="fragment">//Same is true with many developers today.</h4>
				</section>

				<section>
					<h2>Hide details, give me the f(g)ist:</h2>
					<pre><code data-trim>
var total = 0, count = 1;

while (count <= 10) {
  total += count;
  count += 1;
}
console.log(total);

//Using Higher Order Functions:
console.log(sum(range(1, 10)));
					</code></pre>
				</section>

				<section>
					<h2>Recipe Analogy:</h2>
					<div>
						Put 1 cup of dried peas per person into a container. Add water until the peas are well covered. Leave the peas in water for at least 12 hours. Take the peas out of the water and put them in a cooking pan. Add 4 cups of water per person. Cover the pan and keep the peas simmering for two hours. Take half an onion per person. Cut it into pieces with a knife. Add it to the peas. Take a stalk of celery per person. Cut it into pieces with a knife. Add it to the peas. Take a carrot per person. Cut it into pieces. With a knife! Add it to the peas. Cook for 10 more minutes.
					</div>
					<br>
					<h3 class="fragment">What's this approach called? <span class="fragment">Procedural.</span></h3>
				</section>

				<section>
					<h2>Higher Order Recipe:</h2>
					<div>
						Per person: 1 cup dried split peas, half a chopped onion, a stalk of celery, and a carrot.
						Soak peas for 12 hours. Simmer for 2 hours in 4 cups of water (per person). Chop and add vegetables. Cook for 10 more minutes.
					</div>
					<br>
					<h3 class="fragment">What's this approach? <i class="blue">$P</i></h3>
				</section>
				
				<section>
					<h2>Abstraction!</h2>
					<ul>
						<li>A large program is costly.</li>
						<li>Difficult to read, understand & change.</li>
						<li>It invites bugs that are hard to find.</li>
						<li>Fixing a bug may give rise to more bugs.</li>
						<li>It's called Spaghetti Code.</li>
						<li>Abstraction helps avoid this Spaghetti.</li>
					</ul> 
				</section>

				<section>
					<h2>Spaghetti leads to more Spaghetti!</h2>
					<img width="450" height="550" src="images/spaghetti.jpg" />
				</section>

				<section>
					<h2>Abstracting array traversal:</h2>
					<pre><code data-trim>
var a = [1, 2, 3];

//Procedural way:
for (var i = 0; i < array.length; i++) {
  var current = array[i];
  console.log(current);
}

//Abstract logEach:
function logEach(array) {
  for (var i = 0; i < array.length; i++)
  console.log(array[i]);
}

//So readable:
logEach(a);	//1, 2, 3
					</code></pre>
				</section>

				<section>
					<h2>Passing action function to forEach:</h2>
					<pre><code data-trim>
Array.prototype.forEach = function(action) {
  for (var i = 0; i < this.length; i++) {
    action(this[i]);
  }
};

//f(f(x)):
["Log", "me", "in", "console"].forEach(console.log);
					</code></pre>
				</section>

				<section>
					<h2>Higher-order functions:</h2>
					<ul>
						<li>Abstract/hide details to focus on problem at higher level.</li>
						<li>Follow Single Responsibility Principle.</li>
						<li>Operate on other functions ...</li>
						<li>by accepting them as arguments ...</li>
						<li>or by returning a new function.</li>
					</ul>
					<br><br>
					<h3 class="fragment">What is this called?</h3> 
				</section>

				<section>
					<h2>Composition:</h2>
					<img width="600" height="550" src="images/composition.jpeg" />
				</section>

				<section>
					<h3>Build things with functional components:</h3>
					<img width="600" height="550" src="images/watch.jpeg" />
				</section>

				<section>
					<h2>Like building blocks:</h2>
					<img width="600" height="550" src="images/lego-components.jpg" />
				</section>

				<section>
					<h3>Modules, Web Components => Lego Game</h3>
					<img width="800" height="650" src="images/lego.jpg" />
				</section>

				<section data-transition="fade">
					<h3>Function in ES5</h3>
					f = function (x) { return x + 1; }
					<span class="fragment">
						<h3 class="blue">Changes to:</h3>
						f = x => x + 1
						<h3 class="blue">in ES6</h3>
						<h3>$P</h3>
						<h3 class="fragment">What is this called?</h3>
					</span>
					
				</section>

				<section>
					<h2>Exercises 1 - 20</h2>
					<a target="_blank" href="http://jhusain.github.io/learnrx">@jhusain.github.io/learnrx</a>
					<br>
					Use Firefox v22+ for ES6 Arrow function
				</section>

				<section>
					<h2>Top rated Movies Collection:</h2>
					<pre><code data-trim>
var getTopRatedFilms = user =>
  user.videoLists
    .map(videoList =>
      videoList.videos
        .filter(video => video.rating === 5.0))
    .concatAll();

getTopRatedFilms(user)
  .forEach(film => console.log(film));
					</code></pre>
				</section>

				<section>
					<h2>Mouse Drags Collection:</h2>
					<pre><code data-trim>
var getElementDrags = elmt =>
  elmt.mouseDowns
    .map(mouseDown =>
      document.mouseMoves
        .takeUntil(document.mouseUps))
    .concatAll();

getElementDrags(image)
  .forEach(pos => image.position = pos);
					</code></pre>
				</section>

				<section>
					<h2>Reactive Functional Programming using Observable:</h2>
					<ul>
						<li class="fragment">Observable = Collection over time</li>
						<li class="fragment">Treat multiple asynchronous data/events as Collection</li>
						<li class="fragment">Handle them using forEach, map, filter, concatAll, etc.</li>
						<li class="fragment">Elegant way of writing asynchronous programming</li>
					</ul>
				</section>

				<section>
					<h2>Exercises 27 - 36</h2>
					<a target="_blank" href="http://jhusain.github.io/learnrx">@jhusain.github.io/learnrx</a>
				</section>

				<section>
					<h2>Coding Observable from Scratch:</h2>
					<pre><code data-trim>
function Observable(forEach) {
  //An observable takes a forEach function as input
  //and holds onto to it in internal _forEach property.
  
  this._forEach = forEach;
}
					</code></pre>
				</section>

				<section>
					<h2>Adding forEach in Observable's API:</h2>
					<pre><code data-trim>
Observable.prototype.forEach = function (onNext, onError, onCompleted) {
  //API for obserable.forEach(onNext => ..., e => ..., c => ...)
  if(typeof onNext === 'function') {
    //create an observer object and assign
    //the 3 argument functions to it
    return this._forEach({
      onNext: onNext,
      onError: onError || function () {},
      onCompleted: onCompleted || function () {}
    });
  } else {
    //API for obserable.forEach(
    // {onNext: x => ...,
    // onError: e => ...,
    // onCompleted: c => ...})
    return this._forEach(onNext)
  }
};
					</code></pre>
				</section>

				<section>
					<h2>Adding map method:</h2>
					<pre><code data-trim>
Observable.prototype.map = function (transformationFunction) {
  //$P
  var self = this;

  return new Observable(function forEach(observer) {
    return self.forEach(
      function onNext(event) {
      	observer.onNext(transformationFunction(event));
      },
      function onError(event) {
      	observer.onError(event);
      },
      function onCompleted() {
      	observer.onCompleted();
      }
    );
  });
};
					</code></pre>
				</section>

				<section>
					<h2>self = thisDream || outerWorld;</h2>
					<img src="images/totem.gif" width="900" height="500" />
				</section>

				<section>
					<h2>Adding filter method:</h2>
					<pre><code data-trim>
Observable.prototype.filter = function (testFunction) {
  var self = this; //source observable
    return new Observable(function forEach(observer) {
      return self.forEach(
        function onNext(event) {
          if(testFunction(event)) {
            observer.onNext(event);
          }
        },
        function onError(event) { observer.onError(event); },
        function onCompleted() { observer.onCompleted(); }
      );
    });
  }
					</code></pre>
				</section>

				<section>
					<h2>Adding take method:</h2>
					<pre><code data-trim>
Observable.prototype.take = function (limitTo) {
  var self = this;
    return Observable(function forEach(observer) {
      var counter = 0,
        subcription = self.forEach(
          function onNext(v) {
            observer.onNext(v);
            counter++;
            if(counter === limitTo) {
              observer.onCompleted();
              subcription.dispose();
            }
          },
          function onError(e) {
            observer.onError(e);
          },
          function onCompleted() {
            observer.onCompleted();
          }
        );
      return subcription;
    });
  }
					</code></pre>
				</section>

				<section>
					<h2>Adding fromEvent method:</h2>
					<pre><code data-trim>
Observable.fromEvent = function(domElement, eventName) {
  return new Observable(function forEach(observer) {
    var handler = function(event) {
      observer.onNext(event);
    };

    domElement.addEventListener(eventName, handler);

    //Subcription object
    return {
      dispose: function () {
        domElement.removeEventListener(eventName, handler);
      }
    };
  });
};
					</code></pre>
				</section>

				<section>
					<h2>Mouse clicks as observable:</h2>
					<pre><code data-trim>
var button = document.getElementById("button");

var clicks =
  Observable
  .fromEvent(button, "click")
  .map(function (e) {
      return e;
    });

console.log(clicks);

clicks.forEach(function (e) {
  console.log(e.pageX, e.pageY);
});
					</code></pre>
				</section>

				<section>
					<h2>You need some &lt;html&gt; as well:</h2>
					<pre><code data-trim>
&lt;html&gt;
&lt;head&gt;&lt;/head&gt;
&lt;body&gt;
  <button id="button">Click me and get x and y coordinates</button>
  <script src="observable.js"></script>
&lt;/body&gt;
&lt;/html&gt;
					</code></pre>
				</section>

				

				<section>
					<h2>See you again in 3 weeks. Code Best!</h2>
					<img src="images/thumpsup.gif" width="800" height="600" />
				</section>

				

				







				
	



				
	








			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'fade', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
